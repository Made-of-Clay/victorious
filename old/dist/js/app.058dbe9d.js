(function(t){function e(e){for(var a,n,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&f.push(o[n][0]),o[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=r[0]))}return t}var a={},o={app:0},i=[];function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=a,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("8a23"),o=r.n(a);o.a},"03f9":function(t,e,r){},"0689":function(t,e,r){"use strict";var a=r("5950"),o=r.n(a);o.a},"3a65":function(t,e,r){},"3d70":function(t,e,r){"use strict";var a=r("03f9"),o=r.n(a);o.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("img",{staticClass:"app__bgCrown",attrs:{src:t.crown,alt:""}}),r("v-app-bar",{attrs:{app:"",dark:"",color:"primary","hide-on-scroll":t.$vuetify.breakpoint.xsOnly}},[r("AppNav",{attrs:{component:"v-tabs"}})],1),r("v-content",{class:t.$vuetify.breakpoint.xsOnly?"pb-6":""},[r(t.selectedComponent,{tag:"component"})],1)],1)},i=[],n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(t.component,{tag:"component",class:t.computedClasses,attrs:{centered:t.isTabs,"icons-and-text":t.isTabs,fixed:!t.isTabs,grow:!t.isTabs,color:t.computedColor},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[r(t.itemComponent,{tag:"component"},[t._v(" History "),r("v-icon",{domProps:{textContent:t._s("mdi-history")}})],1),r(t.itemComponent,{tag:"component"},[t._v(" Stats "),r("v-icon",{domProps:{textContent:t._s("mdi-chart-line")}})],1)],1)},s=[],c=r("fe57"),l=r("b81c"),u=r("71a3"),d=r("8336"),f={components:{VTabs:c["a"],VBottomNavigation:l["a"],VTab:u["a"],VBtn:d["a"]},props:{component:{type:String,required:!0}},data:function(){return{}},computed:{selected:{get:function(){return this.$store.state.selected},set:function(t){this.$store.commit("updateSelected",t)}},isTabs:function(t){return"v-tabs"===t.component},itemComponent:function(t){return t.isTabs?"v-tab":"v-btn"},computedClasses:function(t){return t.isTabs?"":"elevation-2"},computedColor:function(t){return t.isTabs?"":"primary"}}},m=f,p=r("2877"),v=r("6544"),h=r.n(v),y=r("132d"),b=Object(p["a"])(m,n,s,!1,null,null,null),g=b.exports;h()(b,{VIcon:y["a"]});var V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticStyle:{position:"relative"},attrs:{tag:"article",fluid:""}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12",sm:"4",md:"3",lg:"2",xl:"1"}},[r("v-text-field",{staticClass:"d-inline-block mr-4",attrs:{label:"Search",clearable:""},model:{value:t.searchFilter,callback:function(e){t.searchFilter=e},expression:"searchFilter"}})],1),r("v-col",{attrs:{cols:"12",sm:"4",md:"3",lg:"2",xl:"1"}},[r("v-select",{staticClass:"d-inline-block",attrs:{items:t.showLimitItems,label:"Show","hide-details":""},model:{value:t.showLimit,callback:function(e){t.showLimit=e},expression:"showLimit"}})],1),r("v-col",{attrs:{cols:"12",sm:"4",md:"3",lg:"2",xl:"1"}},[r("v-checkbox",{staticClass:"d-inline-block",attrs:{label:"Reverse Order"},model:{value:t.sortHistoryDesc,callback:function(e){t.sortHistoryDesc=e},expression:"sortHistoryDesc"}})],1)],1),r("h1",{class:t.isSmallScreen?"":"text-center"},[t._v(" History of Victory "),r("small",{staticClass:"d-block body-1",domProps:{textContent:t._s("("+t.filteredVictories.length+" Showing)")}})]),t.$store.getters.userIsAuthorized?t._e():r("v-btn",{attrs:{fab:"",fixed:"",bottom:"",right:""},on:{click:function(e){return t.$store.dispatch("popupAuth")}}},[r("v-icon",[t._v("mdi-key")])],1),r("v-timeline",{attrs:{dense:t.isSmallScreen}},[r("v-timeline-item",{scopedSlots:t._u([{key:"icon",fn:function(){return[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({attrs:{fab:"",color:"primary"},on:{click:function(e){e.stopPropagation(),t.formShowing=!0}}},a),[r("v-icon",[t._v("mdi-plus")])],1)]}}])},[t._v(" Add Victoryâ€¦ ")])]},proxy:!0}])}),t.filteredVictories.length?t._e():r("v-alert",{staticClass:"text-center mx-auto",attrs:{"max-width":"300",elevation:"2"}},[t._v(" No history to show ")]),t._l(t.filteredVictories,(function(e){return r("v-timeline-item",{key:e.id,attrs:{color:"secondary",small:""},scopedSlots:t._u([{key:"opposite",fn:function(){return[r("span",{staticClass:"title"},[t._v(t._s(t._f("formatDate")(e.date)))])]},proxy:!0}],null,!0)},[r("v-card",[r("v-card-title",{staticClass:"headline ",class:t.xsDisplay?"d-block":""},[r("span",{staticClass:"d-block history__itemTitle"},[t._v(" "+t._s(e.game)+" - "),r("b",{staticClass:"primary--text"},[e.teamVictory?[t._v(" Team Victory! ðŸŽ‰ ")]:e.victoriousPlayer?[t._v(" "+t._s(t.getWinner(e))+" ")]:[t._v(" Team Loss â˜¹ï¸ ")]],2)]),r("v-spacer"),t.isSmallScreen?r("small",[t._v(" "+t._s(t._f("formatDate")(e.date))+" ")]):t._e()],1),r("v-row",{staticClass:"pl-4",attrs:{dense:""}},[r("v-col",{attrs:{cols:"12",md:"6"}},t._l(e.players,(function(a){return r("div",{key:e.id+"-"+a,staticClass:"mb-1"},[r("span",{class:a===t.getWinner(e)?"primary--text":""},[t._v(" "+t._s(a)+" ")]),a===t.getWinner(e)?r("v-icon",{staticClass:"ml-2",attrs:{color:"primary"},domProps:{textContent:t._s("mdi-star")}}):t._e()],1)})),0),r("v-col",{attrs:{cols:"12",md:"6"}},[e.notes?[t._v(" Notes "),r("pre",{staticClass:"ma-0 body-2 grey--text lighten-1 history__notes",domProps:{textContent:t._s(""+e.notes)}})]:t._e()],2)],1),t.$store.getters.userIsAuthorized?r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:"",small:"",color:"error"},on:{click:function(r){t.deleteVictoryPrompt=e}}},[r("v-icon",{attrs:{small:""}},[t._v("mdi-delete")]),t._v(" Delete ")],1),r("v-btn",{attrs:{text:"",small:"",color:"accent"},on:{click:function(r){return t.editVictory(e)}}},[r("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")]),t._v(" Edit ")],1)],1):t._e()],1)],1)}))],2),r("VictoryForm",{attrs:{showing:t.formShowing,victory:t.editingVictory},on:{"update:showing":function(e){t.formShowing=e},"update:victory":function(e){t.editingVictory=e}}}),r("RmVictoryConfirm",{attrs:{victory:t.deleteVictoryPrompt},on:{"update:victory":function(e){t.deleteVictoryPrompt=e}}})],1)},_=[],w=(r("99af"),r("4de4"),r("7db0"),r("c975"),r("d81d"),r("fb6a"),r("b0c0"),r("a9e3"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),r("6062"),r("3ca3"),r("5319"),r("ddb0"),r("2909")),x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{scrollable:"","max-width":"500",value:t.showing},on:{input:function(e){return t.$emit("update:showing",e)}}},[r("v-card",[r("v-card-title",[t._v(t._s(t.action)+" Victory")]),r("v-form",{ref:"form",staticClass:"pa-4 victoryForm__form",model:{value:t.formIsValid,callback:function(e){t.formIsValid=e},expression:"formIsValid"}},[t.formEditable?t._e():r("v-alert",{attrs:{type:"warning",outlined:""}},[t.authenticated?t.authorized?t._e():[t._v(" You have no power here! (not authorized user) ")]:[r("p",[t._v("You must prove yourself worthy of victory tracking! Only if you are accepted by the mighty victors can you make history. (i.e. login to authenticate; only authorized users can make changes)")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.authenticate}},[r("v-icon",{staticClass:"mr-2"},[t._v("mdi-key")]),t._v(" Login ")],1)]],2),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-combobox",{attrs:{label:"Game Played",items:t.$store.getters.games,rules:[t.rules.required],disabled:!t.formEditable},model:{value:t.formData.game,callback:function(e){t.$set(t.formData,"game",e)},expression:"formData.game"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({attrs:{label:"Date","prepend-icon":"mdi-calendar",readonly:"",rules:[t.rules.required],disabled:!t.formEditable},model:{value:t.computedDate,callback:function(e){t.computedDate=e},expression:"computedDate"}},a))]}}]),model:{value:t.datePickerShowing,callback:function(e){t.datePickerShowing=e},expression:"datePickerShowing"}},[r("v-date-picker",{on:{input:function(e){t.datePickerShowing=!1}},model:{value:t.formData.date,callback:function(e){t.$set(t.formData,"date",e)},expression:"formData.date"}})],1)],1)],1),r("v-combobox",{attrs:{items:t.$store.getters.players,label:"Players",disabled:!t.formEditable,rules:[t.rules.requiredPlayers],multiple:"",chips:""},model:{value:t.formData.players,callback:function(e){t.$set(t.formData,"players",e)},expression:"formData.players"}}),r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-checkbox",{attrs:{disabled:!t.formData.players.length,label:"Team Victory"},model:{value:t.formData.teamVictory,callback:function(e){t.$set(t.formData,"teamVictory",e)},expression:"formData.teamVictory"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:t.formData.players,disabled:!t.formData.players.length||t.formData.teamVictory,label:"Victorious Player",clearable:""},model:{value:t.formData.victoriousPlayer,callback:function(e){t.$set(t.formData,"victoriousPlayer",e)},expression:"formData.victoriousPlayer"}})],1)],1),r("v-textarea",{staticClass:"mt-2",attrs:{label:"Notes",counter:t.noteCharCap,rules:[t.rules.longFieldMax],disabled:!t.formEditable},model:{value:t.formData.notes,callback:function(e){t.$set(t.formData,"notes",e)},expression:"formData.notes"}})],1),t.errorMessage?r("v-alert",{attrs:{type:"error",tile:""}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:t.closeDialog}},[t._v(" Close ")]),r("v-btn",{attrs:{color:"accent",disabled:!t.formEditable,text:""},on:{click:t.saveForm}},[t._v(" "+t._s(t.action)+" ")])],1)],1)],1)},k=[],S=(r("b64b"),r("1276"),r("3835")),C=(r("4d90"),r("53ca")),D=function(t){return"object"===Object(C["a"])(t)&&null!==t};function P(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Array.isArray(t)?[]:{};for(var a in t){var o=t[a];e&&(Array.isArray(o)||D(o))?r[a]=P(o,e):r[a]=o}return r}var $=function(t){return String(t).padStart(2,"0")},O=function(t){return!isNaN(Number(t))},T=200,A=function(){return Object.assign({},{game:"",date:"",players:[],teamVictory:!1,victoriousPlayer:"",notes:""})},j={inject:["firebase"],props:{showing:Boolean,victory:{type:Object,default:function(){return{}}}},data:function(t){return{formIsValid:!0,formData:t.editExistingVictory?t.victory:A(),datePickerShowing:!1,pointCaps:{min:-100,max:500},noteCharCap:T,rules:{required:function(t){return!!t||"Field required"},requiredPlayers:function(t){return!!t.length||"At least 1 required"},number:function(t){return O(t)||"Value must be a number"},longFieldMax:function(t){return String(t).length<=T||"Value too long"}},errorMessage:""}},computed:{computedDate:{get:function(){if(!this.formData.date)return"";var t=this.formData.date.split("-"),e=Object(S["a"])(t,3),r=e[0],a=e[1],o=e[2];return"".concat($(a),"-").concat($(o),"-").concat(r)},set:function(){}},authenticated:function(t){return!!t.$store.state.authenticatedUser},formEditable:function(t){return t.authenticated&&t.$store.getters.userIsAuthorized},editExistingVictory:function(t){return Object.keys(t.victory).length>0},action:function(t){return t.editExistingVictory?"Update":"Add"}},watch:{showing:function(t){var e=this;if(t){var r=function(t){return JSON.parse(JSON.stringify(t))};this.formData=this.editExistingVictory?r(this.victory):A(),this.$nextTick((function(){e.$refs.form.resetValidation()}))}else this.resetForm()},"formData.victoriousPlayer":function(t){"undefined"===typeof t&&(this.formData.victoriousPlayer="")},"formData.teamVictory":function(t){t&&(this.formData.victoriousPlayer="")}},created:function(){this.$store.dispatch("getAuthorizedUsers")},methods:{resetForm:function(){this.$refs.form.reset(),this.$refs.form.resetValidation(),this.errorMessage="",this.$emit("update:victory",{}),this.formData=A()},closeDialog:function(){this.$emit("update:showing",!1)},saveForm:function(){var t=this;this.$refs.form.validate(),this.$nextTick((function(){if(t.formIsValid){var e=t.editExistingVictory?"updateVictory":"addVictory";t.firebase[e](t.formData).then((function(){return t.closeDialog()})).catch((function(e){console.error(e),t.errorMessage=e.message}))}}))},authenticate:function(){this.$store.dispatch("popupAuth")}}},W=j,E=(r("81ed"),r("0798")),I=r("b0af"),F=r("99d9"),L=r("ac7c"),M=r("62ad"),z=r("2b5d"),G=r("2e4b"),N=r("169a"),U=r("4bd4"),B=r("e449"),Y=r("0fd9"),q=r("b974"),H=r("2fa4"),R=r("8654"),J=r("a844"),K=Object(p["a"])(W,x,k,!1,null,null,null),Q=K.exports;h()(K,{VAlert:E["a"],VBtn:d["a"],VCard:I["a"],VCardActions:F["a"],VCardTitle:F["c"],VCheckbox:L["a"],VCol:M["a"],VCombobox:z["a"],VDatePicker:G["a"],VDialog:N["a"],VForm:U["a"],VIcon:y["a"],VMenu:B["a"],VRow:Y["a"],VSelect:q["a"],VSpacer:H["a"],VTextField:R["a"],VTextarea:J["a"]});var Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{"max-width":"300",value:Object.keys(t.victory).length},on:{input:t.handleDeleteDialog}},[Object.keys(t.victory).length?r("v-card",[r("v-card-title",[t._v("Delete Victory?")]),r("v-card-text",[t._v(" This will perminantly delete "),r("b",[t._v(t._s(t.victory.game))]),t._v(" on "),r("b",[t._v(t._s(t._f("formatDate")(t.victory.date)))]),t._v(". ")]),t.errorMessage?r("v-alert",{attrs:{type:"error",tile:""}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:t.clearVictory}},[t._v(" Cancel ")]),r("v-btn",{attrs:{color:"error"},on:{click:t.deleteVictory}},[t._v(" Delete ")])],1)],1):t._e()],1)},X=[];function tt(t){var e=new Date("".concat(t," 00:00:00")),r=$(e.getMonth()+1),a=$(e.getDate());return"".concat(r,"-").concat(a,"-").concat(e.getFullYear())}var et={inject:["firebase"],filters:{formatDate:tt},props:{victory:{type:Object,default:function(){return{}}}},data:function(){return{errorMessage:""}},methods:{handleDeleteDialog:function(t){t||this.clearVictory()},clearVictory:function(){this.$emit("update:victory",void 0)},deleteVictory:function(){var t=this;this.firebase.removeVictory(this.victory.id).then((function(){return t.clearVictory()})).catch((function(e){return t.errorMessage=e.message}))}}},rt=et,at=Object(p["a"])(rt,Z,X,!1,null,null,null),ot=at.exports;h()(at,{VAlert:E["a"],VBtn:d["a"],VCard:I["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VDialog:N["a"],VSpacer:H["a"]});var it="Newest 20",nt={components:{VictoryForm:Q,RmVictoryConfirm:ot},inject:["firebase"],filters:{formatDate:tt},data:function(){return{formShowing:!1,deleteVictoryPrompt:{},editingVictory:{},searchFilter:"",sortHistoryDesc:!0,showLimit:it}},computed:{isSmallScreen:function(t){return t.$vuetify.breakpoint.smAndDown},filteredVictories:function(){var t=this,e=P(this.$store.state.victories,!0);if(this.searchFilter){var r=this.searchFilter.replace(" ","|"),a=new RegExp(r,"i");e=e.filter((function(t){var e=[t.game,t.date].concat(Object(w["a"])(t.players));return e.find((function(t){return a.test(t)}))}))}return this.sortHistoryDesc&&(e=e.reverse()),e=this.showLimit===it?e.slice(0,Number(it.substr(7))):/20\d\d/.test(this.showLimit)?e.filter((function(e){return e.date.substr(0,4)===t.showLimit})):e,e},xsDisplay:function(t){return t.$vuetify.breakpoint.xs},showLimitItems:function(){var t=this.$store.state.victories.map((function(t){return t.date.substr(0,4)})).sort().reverse();return[it].concat(Object(w["a"])(new Set(t)),["Show All"])}},methods:{getWinner:function(t){var e=t.players.indexOf(t.victoriousPlayer);return e>-1?t.players[e]:"no winner"},getPointColor:function(t,e){var r=this.getWinner(e),a=t.name===r.name?"primary":"accent";return"".concat(a,"--text")},editVictory:function(t){this.formShowing=!0,this.editingVictory=t}}},st=nt,ct=(r("7ee4"),r("a523")),lt=r("8414"),ut=r("1e06"),dt=r("3a2f"),ft=Object(p["a"])(st,V,_,!1,null,null,null),mt=ft.exports;h()(ft,{VAlert:E["a"],VBtn:d["a"],VCard:I["a"],VCardActions:F["a"],VCardTitle:F["c"],VCheckbox:L["a"],VCol:M["a"],VContainer:ct["a"],VIcon:y["a"],VRow:Y["a"],VSelect:q["a"],VSpacer:H["a"],VTextField:R["a"],VTimeline:lt["a"],VTimelineItem:ut["a"],VTooltip:dt["a"]});var pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{tag:"article"}},[r("div",{staticClass:"text-center"},[r("v-select",{staticClass:"stats__list d-inline-block mr-4",attrs:{items:t.statList,"hide-details":""},model:{value:t.statView,callback:function(e){t.statView=e},expression:"statView"}}),t.totalsShowing?r("v-select",{staticClass:"stats__list d-inline-block",attrs:{items:t.selectedStatItems,disabled:!t.selectedStatItems.length,"hide-details":""},model:{value:t.selectedValue,callback:function(e){t.selectedValue=e},expression:"selectedValue"}}):t._e()],1),t.totalsShowing?r("VictoryTotals",{attrs:{view:t.selectedValue}}):t._e(),r("v-row",t._l(t.playerStats,(function(e,a){return r("v-col",{key:"player-"+a,attrs:{cols:"12",sm:"6"}},[r("v-card",[r("v-card-title",[t._v(" "+t._s(a)+" "),r("v-spacer"),r("b",{staticClass:"primary--text"},[t._v(" "+t._s(e.totalWinsYear)+" Wins in "+t._s((new Date).getFullYear())+" ")])],1),r("v-row",{staticClass:"pa-4"},t._l(t.playerStatOrder,(function(o){var i=o.text,n=o.key;return r("v-col",{key:a+"-"+n,attrs:{cols:"12",sm:"6"}},[t._v(" "+t._s(i)+": "+t._s(e[n])+" ")])})),1)],1)],1)})),1)],1)},vt=[],ht=(r("4160"),r("159b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"stats__chartWrapper mx-auto"},[r("apexchart",{attrs:{options:t.chartOptions,series:t.totalWinSeries}})],1)}),yt=[],bt=r("1321"),gt=r.n(bt),Vt={components:{apexchart:gt.a},props:{view:{type:String,default:""}},data:function(){return{chartOpts:{chart:{type:"donut"},theme:{palette:"palette6"}}}},computed:{victoryTotals:function(){var t=this,e=this.$store.getters.players.map((function(t){return{player:t,wins:0}}));return this.$store.state.victories.forEach((function(r){"Grand Total"!==t.view&&t.view!==r.game||e.forEach((function(t){(r.teamVictory||r.victoriousPlayer===t.player)&&t.wins++}))})),e},totalWinSeries:function(t){return t.victoryTotals.map((function(t){var e=t.wins;return e}))},chartOptions:function(){return Object.assign({labels:this.victoryTotals.map((function(t){var e=t.player;return e}))},this.chartOpts)}}},_t=Vt,wt=(r("0689"),Object(p["a"])(_t,ht,yt,!1,null,null,null)),xt=wt.exports,kt=(r("13d5"),r("4ec9"),r("d4ec")),St=r("bee2"),Ct=function(){function t(e){Object(kt["a"])(this,t),this.players=e.reduce((function(t,e){return t[e]={totalWins:0,totalWinsYear:0,latestWin:"",longestStreak:0,bestGame:"",gamesWon:new Map},t}),{}),this.currentPlayer="",this.streak={prevWinner:"",curCount:0}}return Object(St["a"])(t,[{key:"calcTotalWinsYear",value:function(t){var e=(new Date).getFullYear();t.substr(0,4)===String(e)&&this.player.totalWinsYear++}},{key:"calcStreak",value:function(t){this.streak.prevWinner===t.victoriousPlayer?(this.streak.curCount++,this.player.longestStreak<this.streak.curCount&&(this.player.longestStreak=this.streak.curCount)):(this.streak.prevWinner=t.victoriousPlayer,this.streak.curCount=1)}},{key:"updateGamesWon",value:function(t){var e=this.player.gamesWon,r=t.game;e.has(r)||e.set(r,0),e.set(r,e.get(t.game)+1)}},{key:"calcBestGames",value:function(){var t=this,e=function(){return{game:"",wins:0}},r=e();Object.keys(this.players).forEach((function(a){t.currentPlayer=a,t.player.gamesWon.forEach((function(t,e){r.wins<t&&(r.wins=t,r.game=e)})),t.player.bestGame=r.game,r=e()}))}},{key:"player",get:function(){return this.players[this.currentPlayer]}}]),t}(),Dt={components:{VictoryTotals:xt},data:function(){var t=["Victory Totals","Player Stats"],e="stats-view";return{statView:sessionStorage.getItem(e)||t[0],statList:t,selectedValue:"",playerStatOrder:[{text:"Total Wins",key:"totalWins"},{text:"Latest Win",key:"latestWin"},{text:"Longest Streak",key:"longestStreak"},{text:"Best Game",key:"bestGame"}],sessionKey:e}},computed:{totalsShowing:function(t){return t.statView===t.statList[0]},playerStatsShowing:function(t){return t.statView===t.statList[1]},selectedStatItems:function(t){return t.totalsShowing?["Grand Total"].concat(Object(w["a"])(t.$store.getters.games)):t.playerStatsShowing?t.$store.getters.players:[]},playerStats:function(){if(!this.playerStatsShowing)return[];var t=new Ct(this.$store.getters.players);return this.$store.state.victories.forEach((function(e){e.victoriousPlayer&&(t.currentPlayer=e.victoriousPlayer,t.player.totalWins++,t.calcTotalWinsYear(e.date),t.player.latestWin=e.game,t.calcStreak(e),t.updateGamesWon(e))})),t.calcBestGames(),t.players}},watch:{selectedStatItems:{handler:function(t){this.selectedValue=t[0]||""},immediate:!0},statView:{handler:function(t){sessionStorage.setItem(this.sessionKey,t)},immediate:!0}}},Pt=Dt,$t=(r("3d70"),Object(p["a"])(Pt,pt,vt,!1,null,null,null)),Ot=$t.exports;h()($t,{VCard:I["a"],VCardTitle:F["c"],VCol:M["a"],VContainer:ct["a"],VRow:Y["a"],VSelect:q["a"],VSpacer:H["a"]});var Tt=r("7cd5"),At=r.n(Tt),jt={name:"App",components:{AppNav:g,History:mt,Stats:Ot},inject:["firebase"],data:function(){return{crown:At.a}},computed:{showBottomNav:function(t){return t.$vuetify.breakpoint.xsOnly},selectedComponent:function(t){return 0===t.$store.state.selected?"History":"Stats"}},mounted:function(){this.$store.dispatch("getVictories")},methods:{}},Wt=jt,Et=(r("034f"),r("7496")),It=r("40dc"),Ft=r("a75b"),Lt=Object(p["a"])(Wt,o,i,!1,null,null,null),Mt=Lt.exports;h()(Lt,{VApp:Et["a"],VAppBar:It["a"],VContent:Ft["a"]});var zt=r("f309"),Gt=r("fcf4");a["a"].use(zt["a"]);var Nt=new zt["a"]({theme:{themes:{light:{primary:Gt["a"].deepPurple,secondary:Gt["a"].red,accent:Gt["a"].deepPurple.accent2}}}}),Ut=r("59ca");r("ea7b"),r("e71f");Ut["initializeApp"]({apiKey:"AIzaSyBAqTed5sSoQGflprtOFFgUrNZGIL0Gct0",authDomain:"victorious-f35d3.firebaseapp.com",databaseURL:"https://victorious-f35d3.firebaseio.com",projectId:"victorious-f35d3",storageBucket:"victorious-f35d3.appspot.com",messagingSenderId:"890675602817",appId:"1:890675602817:web:e31469a26058f5b5577480"});var Bt=new Ut["auth"].GoogleAuthProvider,Yt={db:Ut["firestore"](),get victories(){return this.db.collection("victories")},popupAuth:function(){return Ut["auth"]().signInWithPopup(Bt)},addVictory:function(t){return this.victories.doc().set(t)},updateVictory:function(t){return this.victories.doc(t.id).update(t)},removeVictory:function(t){return this.victories.doc(t).delete()}},qt=Yt,Ht=(r("caad"),r("2532"),r("2f62"));a["a"].use(Ht["a"]);var Rt=new Ht["a"].Store({state:{victories:[],selected:0,authenticatedUser:"",authorizedUsers:[]},getters:{players:function(t){return t.victories.reduce((function(t,e){return e.players.forEach((function(e){t.includes(e)||t.push(e)})),t}),[])},games:function(t){return t.victories.reduce((function(t,e){return t.includes(e.game)||t.push(e.game),t.sort()}),[])},userIsAuthorized:function(t){return t.authorizedUsers.includes(t.authenticatedUser)}},mutations:{updateVictories:function(t,e){t.victories=e},updateSelected:function(t,e){t.selected=e},setAuthUser:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.authenticatedUser=e},setAuthorized:function(t,e){Array.isArray(e)&&e.length&&(t.authorizedUsers=e)}},actions:{getAuthorizedUsers:function(t){var e=t.commit;qt.db.collection("users").onSnapshot((function(t){var r=t.docs.map((function(t){return t.data().email}));e("setAuthorized",r)}))},getVictories:function(t){var e=t.commit;qt.db.collection("victories").onSnapshot((function(t){var r=[];t.forEach((function(t){r.push(Object.assign({id:t.id},t.data()))})),r.sort((function(t,e){return t.date<e.date?-1:t.date===e.date?0:t.date>e.date?1:void 0})),e("updateVictories",r)}))},popupAuth:function(t){var e=t.commit;qt.popupAuth().then((function(t){if(t&&t.user){var r=t.user.email;r&&e("setAuthUser",r)}})).catch((function(t){return console.error("Firebase Auth Error >> ",t)}))}}});a["a"].config.productionTip=!1,new a["a"]({vuetify:Nt,provide:{firebase:qt},store:Rt,render:function(t){return t(Mt)}}).$mount("#app")},5950:function(t,e,r){},"7cd5":function(t,e,r){t.exports=r.p+"img/crown.b304f57e.svg"},"7ee4":function(t,e,r){"use strict";var a=r("97df"),o=r.n(a);o.a},"81ed":function(t,e,r){"use strict";var a=r("3a65"),o=r.n(a);o.a},"8a23":function(t,e,r){},"97df":function(t,e,r){}});
//# sourceMappingURL=app.058dbe9d.js.map